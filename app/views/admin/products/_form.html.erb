<% if @product.errors.any? %>
  <div class="container form-container">
    <ul>
      <% @product.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
    </ul>
  </div>
<% end %>
<%= form_for [:admin, @product] do |f| %>
  <div class="container form-container">
    <div class="form-title">基本信息</div>
    <div class="form-group">
      <%= f.label :name, '名称' %>
      <%= f.text_field :name, class: 'form-control' %>
    </div>
    <div class="form-group">
      <%= f.label :name, '品牌' %>
      <%= f.collection_select :brand_id, Brand.all, :id, :name, {}, class: 'form-control' %>
    </div>
    <div class="form-group">
      <%= f.label :name, '价格' %>
      <%= f.number_field :price, class: 'form-control' %>
    </div>
    <div class="form-group">
      <%= f.label :name, '原价' %>
      <%= f.number_field :original_price, class: 'form-control' %>
    </div>
    <div class="form-group">
      <%= f.label :name, '显示优先级' %>
      <%= f.number_field :priority, class: 'form-control' %>
    </div>
    <div class="form-group">
      <%= f.label :name, '比赛商品等级（非比赛商品留空）' %>
      <%= f.number_field :contest_level, class: 'form-control' %>
    </div>
  </div>
  <div class="container form-container">
    <div class="form-title">商品显示信息</div>
    <%= f.fields_for :product_view_attributes, @product.product_view do |v| %>
      <% unless @product.product_view.new_record? %>
        <%= v.hidden_field :id %>
      <% end %>
      <div class="form-group">
        <%= v.label :home_page_description, '主页文案' %>
        <%= v.text_field :home_page_description, class: 'form-control' %>
      </div>
      <div class="form-group">
        <%= v.label :trailer_description, '预告文案' %>
        <%= v.text_field :trailer_description, class: 'form-control' %>
      </div>
      <div class="form-group">
        <%= v.label :detail_page_description, '详细页文案' %>
        <%= v.text_area :detail_page_description, class: 'form-control' %>
      </div>
      <div class="form-group">
        <%= v.label :sale_image_type, '主页图片类型(高：宽)' %>
        <%= v.select :sale_image_type, options_for_select([['2 : 1', 0], ['1 : 1', 1], ['1 : 2', 2]]), {}, class: 'form-control' %>
      </div>
      <div class="form-group">
        <%= v.label :sale_image_url, '主页图片url' %>
        <%= v.text_field :sale_image_url, class: 'form-control' %>
      </div>
      <div class="form-group">
        <%= v.label :trailer_image_url, '预告图片url' %>
        <%= v.text_field :trailer_image_url, class: 'form-control' %>
      </div>
    <% end %>
  </div>
  <div class="container form-container">
    <%= link_to "返回", admin_products_path, class: 'btn btn-default' %>
    <%= f.submit '提交', :disable_with => '提交ing...', class: 'btn btn-primary' %>
  </div>
<% end %>
